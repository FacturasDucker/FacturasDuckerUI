<!-- pages/recoveryProcess-page/recoveryProcess-page.component.html -->
<app-nav-bar-home/>
<div class="px-14">
  <!-- Page Header -->
  <div class="py-6">
    <!-- Breadcrumb Navigation -->
    <div class="flex items-center text-sm text-gray-500">
      <span>Home</span>
      <span class="mx-1">/</span>
      <span class="text-amber-500">Customer Management</span>
    </div>

    <!-- Page Title -->
    <h1 class="text-4xl font-bold text-gray-900 mt-2">Invoice Recovery</h1>

    <!-- Subtitle and Description -->
    <p class="text-lg font-medium mt-4">Verify that all your personal information is correct</p>
    <p class="text-gray-600 text-sm mt-1">Upload your fiscal situation certificate to load your data more optimally</p>
  </div>

  <!-- Dynamic Component Rendering Based on Process State -->
  <div class="mt-8">
    @if (currentState() === RecoveryProcessState.PERSONAL_DATA) {
      <app-personal-data-form
        (formSubmit)="handleFormSubmit($event)"
      ></app-personal-data-form>
    } @else if (currentState() === RecoveryProcessState.LOADING) {
      <app-loading-state></app-loading-state>
    } @else if (currentState() === RecoveryProcessState.INVOICE_READY) {
      <app-invoice-ready
        (restart)="restartProcess()"
      ></app-invoice-ready>
    }
  </div>
</div>
